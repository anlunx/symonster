public class com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity extends java.lang.Object
{
    private static final double THETA;
    private final com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients _data1;
    private final com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients _data2;
    private final com.opengamma.analytics.math.function.Function1D _initCon11;
    private final com.opengamma.analytics.math.function.Function1D _initCon12;

    public void <init>(com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve, double, double, double, double, double, double, double)
    {
        com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity r0;
        com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve r1;
        double d0, d1, d2, d3, d4, d5, d6, $d7;
        com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle $r2;

        r0 := @this: com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity;

        r1 := @parameter0: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve;

        d0 := @parameter1: double;

        d1 := @parameter2: double;

        d2 := @parameter3: double;

        d3 := @parameter4: double;

        d4 := @parameter5: double;

        d5 := @parameter6: double;

        d6 := @parameter7: double;

        $r2 = new com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle;

        $d7 = d0 + d1;

        specialinvoke $r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle: void <init>(double,double,double,double,double,double,double)>(d0, $d7, d2, d3, d4, d5, d6);

        specialinvoke r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: void <init>(com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle)>(r1, $r2);

        return;
    }

    public void <init>(com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve, com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle)
    {
        com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity r0;
        com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve r1;
        com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle r2;
        double $d0, $d1, $d2, $d3, $d4, $d5, $d6, $d7, $d8, $d9, $d10;
        com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients $r3, $r4;
        com.opengamma.analytics.math.function.Function1D $r5, $r6;

        r0 := @this: com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity;

        r1 := @parameter0: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve;

        r2 := @parameter1: com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        staticinvoke <org.apache.commons.lang.Validate: void notNull(java.lang.Object,java.lang.String)>(r1, "null forward");

        staticinvoke <org.apache.commons.lang.Validate: void notNull(java.lang.Object,java.lang.String)>(r2, "null data");

        $d0 = virtualinvoke r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle: double getVol1()>();

        $d1 = virtualinvoke r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle: double getLambda12()>();

        $d2 = virtualinvoke r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle: double getLambda21()>();

        $d3 = virtualinvoke r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle: double getBeta1()>();

        $r3 = specialinvoke r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients getCoupledPDEDataBundle(com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,double,double,double,double)>(r1, $d0, $d1, $d2, $d3);

        r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients _data1> = $r3;

        $d4 = virtualinvoke r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle: double getVol2()>();

        $d5 = virtualinvoke r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle: double getLambda21()>();

        $d6 = virtualinvoke r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle: double getLambda12()>();

        $d7 = virtualinvoke r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle: double getBeta2()>();

        $r4 = specialinvoke r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients getCoupledPDEDataBundle(com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,double,double,double,double)>(r1, $d4, $d5, $d6, $d7);

        r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients _data2> = $r4;

        $d8 = virtualinvoke r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle: double getP0()>();

        $r5 = specialinvoke r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.math.function.Function1D getInitialCondition(com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,double)>(r1, $d8);

        r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.math.function.Function1D _initCon11> = $r5;

        $d9 = virtualinvoke r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDataBundle: double getP0()>();

        $d10 = 1.0 - $d9;

        $r6 = specialinvoke r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.math.function.Function1D getInitialCondition(com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,double)>(r1, $d10);

        r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.math.function.Function1D _initCon12> = $r6;

        return;
    }

    com.opengamma.analytics.financial.model.finitedifference.PDEFullResults1D[] solve(com.opengamma.analytics.financial.model.finitedifference.PDEGrid1D)
    {
        com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity r0;
        com.opengamma.analytics.financial.model.finitedifference.PDEGrid1D r1;
        com.opengamma.analytics.financial.model.finitedifference.PDEResults1D[] r7;
        com.opengamma.analytics.financial.model.finitedifference.PDEFullResults1D r8, r9;
        com.opengamma.analytics.financial.model.finitedifference.NeumannBoundaryCondition $r10;
        double $d0, $d1;
        com.opengamma.analytics.financial.model.finitedifference.DirichletBoundaryCondition $r11;
        int $i0, $i1;
        com.opengamma.analytics.financial.model.finitedifference.CoupledPDEDataBundle $r12, $r15;
        com.opengamma.analytics.math.function.Function1D $r13, $r16;
        com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients $r14, $r17;
        com.opengamma.analytics.financial.model.finitedifference.CoupledFiniteDifference $r18;
        com.opengamma.analytics.financial.model.finitedifference.PDEResults1D $r19, $r20;
        com.opengamma.analytics.financial.model.finitedifference.PDEFullResults1D[] $r21;

        r0 := @this: com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity;

        r1 := @parameter0: com.opengamma.analytics.financial.model.finitedifference.PDEGrid1D;

        $r10 = new com.opengamma.analytics.financial.model.finitedifference.NeumannBoundaryCondition;

        $d0 = virtualinvoke r1.<com.opengamma.analytics.financial.model.finitedifference.PDEGrid1D: double getSpaceNode(int)>(0);

        specialinvoke $r10.<com.opengamma.analytics.financial.model.finitedifference.NeumannBoundaryCondition: void <init>(double,double,boolean)>(0.0, $d0, 1);

        $r11 = new com.opengamma.analytics.financial.model.finitedifference.DirichletBoundaryCondition;

        $i0 = virtualinvoke r1.<com.opengamma.analytics.financial.model.finitedifference.PDEGrid1D: int getNumSpaceNodes()>();

        $i1 = $i0 - 1;

        $d1 = virtualinvoke r1.<com.opengamma.analytics.financial.model.finitedifference.PDEGrid1D: double getSpaceNode(int)>($i1);

        specialinvoke $r11.<com.opengamma.analytics.financial.model.finitedifference.DirichletBoundaryCondition: void <init>(double,double)>(0.0, $d1);

        $r12 = new com.opengamma.analytics.financial.model.finitedifference.CoupledPDEDataBundle;

        $r14 = r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients _data1>;

        $r13 = r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.math.function.Function1D _initCon11>;

        specialinvoke $r12.<com.opengamma.analytics.financial.model.finitedifference.CoupledPDEDataBundle: void <init>(com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients,com.opengamma.analytics.math.function.Function1D,com.opengamma.analytics.financial.model.finitedifference.BoundaryCondition,com.opengamma.analytics.financial.model.finitedifference.BoundaryCondition,com.opengamma.analytics.financial.model.finitedifference.PDEGrid1D)>($r14, $r13, $r10, $r11, r1);

        $r15 = new com.opengamma.analytics.financial.model.finitedifference.CoupledPDEDataBundle;

        $r17 = r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients _data2>;

        $r16 = r0.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: com.opengamma.analytics.math.function.Function1D _initCon12>;

        specialinvoke $r15.<com.opengamma.analytics.financial.model.finitedifference.CoupledPDEDataBundle: void <init>(com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients,com.opengamma.analytics.math.function.Function1D,com.opengamma.analytics.financial.model.finitedifference.BoundaryCondition,com.opengamma.analytics.financial.model.finitedifference.BoundaryCondition,com.opengamma.analytics.financial.model.finitedifference.PDEGrid1D)>($r17, $r16, $r10, $r11, r1);

        $r18 = new com.opengamma.analytics.financial.model.finitedifference.CoupledFiniteDifference;

        specialinvoke $r18.<com.opengamma.analytics.financial.model.finitedifference.CoupledFiniteDifference: void <init>(double,boolean)>(1.0, 1);

        r7 = virtualinvoke $r18.<com.opengamma.analytics.financial.model.finitedifference.CoupledFiniteDifference: com.opengamma.analytics.financial.model.finitedifference.PDEResults1D[] solve(com.opengamma.analytics.financial.model.finitedifference.CoupledPDEDataBundle,com.opengamma.analytics.financial.model.finitedifference.CoupledPDEDataBundle)>($r12, $r15);

        $r19 = r7[0];

        r8 = (com.opengamma.analytics.financial.model.finitedifference.PDEFullResults1D) $r19;

        $r20 = r7[1];

        r9 = (com.opengamma.analytics.financial.model.finitedifference.PDEFullResults1D) $r20;

        $r21 = newarray (com.opengamma.analytics.financial.model.finitedifference.PDEFullResults1D)[2];

        $r21[0] = r8;

        $r21[1] = r9;

        return $r21;
    }

    private com.opengamma.analytics.math.function.Function1D getInitialCondition(com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve, double)
    {
        com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity r0;
        com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve r1;
        double d0;
        com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$1 $r2;

        r0 := @this: com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity;

        r1 := @parameter0: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve;

        d0 := @parameter1: double;

        $r2 = new com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$1;

        specialinvoke $r2.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$1: void <init>(com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity,double,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve)>(r0, d0, r1);

        return $r2;
    }

    private com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients getCoupledPDEDataBundle(com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve, double, double, double, double)
    {
        com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity r0;
        com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve r1;
        double d0, d1, d2, d3, $d4;
        com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$2 $r5;
        com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$3 $r6;
        com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$4 $r7;
        com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients $r8;
        com.opengamma.analytics.math.surface.FunctionalDoublesSurface $r9, $r10, $r11;

        r0 := @this: com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity;

        r1 := @parameter0: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve;

        d0 := @parameter1: double;

        d1 := @parameter2: double;

        d2 := @parameter3: double;

        d3 := @parameter4: double;

        $r5 = new com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$2;

        specialinvoke $r5.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$2: void <init>(com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity,double,double)>(r0, d3, d0);

        $r6 = new com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$3;

        specialinvoke $r6.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$3: void <init>(com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity,double,double,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve)>(r0, d0, d3, r1);

        $r7 = new com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$4;

        specialinvoke $r7.<com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity$4: void <init>(com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity,double,double,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,double)>(r0, d3, d1, r1, d0);

        $r8 = new com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients;

        $r9 = staticinvoke <com.opengamma.analytics.math.surface.FunctionalDoublesSurface: com.opengamma.analytics.math.surface.FunctionalDoublesSurface 'from'(com.opengamma.analytics.math.function.Function)>($r5);

        $r10 = staticinvoke <com.opengamma.analytics.math.surface.FunctionalDoublesSurface: com.opengamma.analytics.math.surface.FunctionalDoublesSurface 'from'(com.opengamma.analytics.math.function.Function)>($r6);

        $r11 = staticinvoke <com.opengamma.analytics.math.surface.FunctionalDoublesSurface: com.opengamma.analytics.math.surface.FunctionalDoublesSurface 'from'(com.opengamma.analytics.math.function.Function)>($r7);

        $d4 = neg d2;

        specialinvoke $r8.<com.opengamma.analytics.financial.model.finitedifference.ConvectionDiffusionPDE1DCoupledCoefficients: void <init>(com.opengamma.analytics.math.surface.Surface,com.opengamma.analytics.math.surface.Surface,com.opengamma.analytics.math.surface.Surface,double)>($r9, $r10, $r11, $d4);

        return $r8;
    }

    public static void <clinit>()
    {
        <com.opengamma.analytics.financial.model.finitedifference.applications.TwoStateMarkovChainDensity: double THETA> = 1.0;

        return;
    }
}
