public abstract class com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator extends java.lang.Object implements com.opengamma.analytics.financial.model.volatility.local.PDELocalVolatilityCalculator
{
    private static final double VOL_SHIFT;
    private static final double FWD_SHIFT;
    private final com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator;
    private final com.opengamma.analytics.math.interpolation.Interpolator1D _interpolator;

    public void <init>(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator, com.opengamma.analytics.math.interpolation.Interpolator1D)
    {
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator r0;
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator r1;
        com.opengamma.analytics.math.interpolation.Interpolator1D r2;

        r0 := @this: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator;

        r1 := @parameter0: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator;

        r2 := @parameter1: com.opengamma.analytics.math.interpolation.Interpolator1D;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator> = r1;

        r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.math.interpolation.Interpolator1D _interpolator> = r2;

        return;
    }

    public com.opengamma.analytics.math.interpolation.data.Interpolator1DDataBundle getResult(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceMoneyness, com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve, com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption, com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve)
    {
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator r0;
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceMoneyness r1;
        com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve r2, r8, r9;
        com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption r3;
        com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve r4;
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike r5, $r19, $r22;
        com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D r10, r11, r12, r13, r14, r15, r16;
        int i0, i1;
        double d0, d1, d2, $d3, $d4;
        double[] r17, r18;
        com.opengamma.analytics.math.surface.Surface $r20, $r21, $r23, $r24;
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator $r25, $r26, $r27, $r28, $r29, $r30, $r31;
        com.opengamma.analytics.math.interpolation.Interpolator1D $r32;
        com.opengamma.analytics.math.interpolation.data.Interpolator1DDataBundle $r33;

        r0 := @this: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator;

        r1 := @parameter0: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceMoneyness;

        r2 := @parameter1: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve;

        r3 := @parameter2: com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption;

        r4 := @parameter3: com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve;

        r5 = staticinvoke <com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceConverter: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike toStrikeSurface(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceMoneyness)>(r1);

        $r19 = new com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike;

        $r20 = virtualinvoke r5.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike: com.opengamma.analytics.math.surface.Surface getSurface()>();

        $r21 = staticinvoke <com.opengamma.analytics.math.surface.SurfaceShiftFunctionFactory: com.opengamma.analytics.math.surface.Surface getShiftedSurface(com.opengamma.analytics.math.surface.Surface,double,boolean)>($r20, 0.001, 1);

        specialinvoke $r19.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike: void <init>(com.opengamma.analytics.math.surface.Surface)>($r21);

        $r22 = new com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike;

        $r23 = virtualinvoke r5.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike: com.opengamma.analytics.math.surface.Surface getSurface()>();

        $r24 = staticinvoke <com.opengamma.analytics.math.surface.SurfaceShiftFunctionFactory: com.opengamma.analytics.math.surface.Surface getShiftedSurface(com.opengamma.analytics.math.surface.Surface,double,boolean)>($r23, -0.001, 1);

        specialinvoke $r22.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike: void <init>(com.opengamma.analytics.math.surface.Surface)>($r24);

        r8 = virtualinvoke r2.<com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve withFractionalShift(double)>(0.05);

        r9 = virtualinvoke r2.<com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve withFractionalShift(double)>(-0.05);

        $r25 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r10 = virtualinvoke $r25.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceMoneyness,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>(r1, r3);

        $r26 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r11 = virtualinvoke $r26.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r19, r2, r3);

        $r27 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r12 = virtualinvoke $r27.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r22, r2, r3);

        $r28 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r13 = virtualinvoke $r28.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r19, r8, r3);

        $r29 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r14 = virtualinvoke $r29.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r22, r8, r3);

        $r30 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r15 = virtualinvoke $r30.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r19, r9, r3);

        $r31 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r16 = virtualinvoke $r31.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r22, r9, r3);

        i0 = virtualinvoke r10.<com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D: int getNumberSpaceNodes()>();

        d0 = virtualinvoke r3.<com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption: double getTimeToExpiry()>();

        d1 = virtualinvoke r2.<com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve: double getForward(double)>(d0);

        r17 = newarray (double)[i0];

        r18 = newarray (double)[i0];

        i1 = 0;

     label1:
        if i1 >= i0 goto label2;

        d2 = virtualinvoke r10.<com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D: double getSpaceValue(int)>(i1);

        $d3 = d2 * d1;

        r17[i1] = $d3;

        $d4 = virtualinvoke r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: double getResultForMoneyness(com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,int,double,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>(r10, r11, r12, r13, r14, r15, r16, i1, d1, r3);

        r18[i1] = $d4;

        i1 = i1 + 1;

        goto label1;

     label2:
        $r32 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.math.interpolation.Interpolator1D _interpolator>;

        $r33 = virtualinvoke $r32.<com.opengamma.analytics.math.interpolation.Interpolator1D: com.opengamma.analytics.math.interpolation.data.Interpolator1DDataBundle getDataBundleFromSortedArrays(double[],double[])>(r17, r18);

        return $r33;
    }

    public com.opengamma.analytics.math.interpolation.data.Interpolator1DDataBundle getResult(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike, com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve, com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption, com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve)
    {
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator r0;
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike r1, $r18, $r21;
        com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve r2, r7, r8;
        com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption r3;
        com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve r4;
        com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D r9, r10, r11, r12, r13, r14, r15;
        int i0, i1;
        double d0, d1, d2, $d3, $d4;
        double[] r16, r17;
        com.opengamma.analytics.math.surface.Surface $r19, $r20, $r22, $r23;
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator $r24, $r25, $r26, $r27, $r28, $r29, $r30;
        com.opengamma.analytics.math.interpolation.Interpolator1D $r31;
        com.opengamma.analytics.math.interpolation.data.Interpolator1DDataBundle $r32;

        r0 := @this: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator;

        r1 := @parameter0: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike;

        r2 := @parameter1: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve;

        r3 := @parameter2: com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption;

        r4 := @parameter3: com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve;

        $r18 = new com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike;

        $r19 = virtualinvoke r1.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike: com.opengamma.analytics.math.surface.Surface getSurface()>();

        $r20 = staticinvoke <com.opengamma.analytics.math.surface.SurfaceShiftFunctionFactory: com.opengamma.analytics.math.surface.Surface getShiftedSurface(com.opengamma.analytics.math.surface.Surface,double,boolean)>($r19, 0.001, 1);

        specialinvoke $r18.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike: void <init>(com.opengamma.analytics.math.surface.Surface)>($r20);

        $r21 = new com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike;

        $r22 = virtualinvoke r1.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike: com.opengamma.analytics.math.surface.Surface getSurface()>();

        $r23 = staticinvoke <com.opengamma.analytics.math.surface.SurfaceShiftFunctionFactory: com.opengamma.analytics.math.surface.Surface getShiftedSurface(com.opengamma.analytics.math.surface.Surface,double,boolean)>($r22, -0.001, 1);

        specialinvoke $r21.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike: void <init>(com.opengamma.analytics.math.surface.Surface)>($r23);

        r7 = virtualinvoke r2.<com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve withFractionalShift(double)>(0.05);

        r8 = virtualinvoke r2.<com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve withFractionalShift(double)>(-0.05);

        $r24 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r9 = virtualinvoke $r24.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>(r1, r2, r3);

        $r25 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r10 = virtualinvoke $r25.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r18, r2, r3);

        $r26 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r11 = virtualinvoke $r26.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r21, r2, r3);

        $r27 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r12 = virtualinvoke $r27.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r18, r7, r3);

        $r28 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r13 = virtualinvoke $r28.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r21, r7, r3);

        $r29 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r14 = virtualinvoke $r29.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r18, r8, r3);

        $r30 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator _pdeCalculator>;

        r15 = virtualinvoke $r30.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDECalculator: com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D runPDESolver(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>($r21, r8, r3);

        i0 = virtualinvoke r9.<com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D: int getNumberSpaceNodes()>();

        d0 = virtualinvoke r3.<com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption: double getTimeToExpiry()>();

        d1 = virtualinvoke r2.<com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve: double getForward(double)>(d0);

        r16 = newarray (double)[i0];

        r17 = newarray (double)[i0];

        i1 = 0;

     label1:
        if i1 >= i0 goto label2;

        d2 = virtualinvoke r9.<com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D: double getSpaceValue(int)>(i1);

        $d3 = d2 * d1;

        r16[i1] = $d3;

        $d4 = virtualinvoke r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: double getResultForMoneyness(com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D,int,double,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption)>(r9, r10, r11, r12, r13, r14, r15, i1, d1, r3);

        r17[i1] = $d4;

        i1 = i1 + 1;

        goto label1;

     label2:
        $r31 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.math.interpolation.Interpolator1D _interpolator>;

        $r32 = virtualinvoke $r31.<com.opengamma.analytics.math.interpolation.Interpolator1D: com.opengamma.analytics.math.interpolation.data.Interpolator1DDataBundle getDataBundleFromSortedArrays(double[],double[])>(r16, r17);

        return $r32;
    }

    protected abstract double getResultForMoneyness(com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D, com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D, com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D, com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D, com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D, com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D, com.opengamma.analytics.financial.model.finitedifference.PDETerminalResults1D, int, double, com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption);

    public com.opengamma.analytics.math.interpolation.Interpolator1D getInterpolator()
    {
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator r0;
        com.opengamma.analytics.math.interpolation.Interpolator1D $r1;

        r0 := @this: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator;

        $r1 = r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.math.interpolation.Interpolator1D _interpolator>;

        return $r1;
    }

    public volatile java.lang.Object getResult(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike, com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve, com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption, com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve)
    {
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator r0;
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike r1;
        com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve r2;
        com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption r3;
        com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve r4;
        com.opengamma.analytics.math.interpolation.data.Interpolator1DDataBundle $r5;

        r0 := @this: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator;

        r1 := @parameter0: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike;

        r2 := @parameter1: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve;

        r3 := @parameter2: com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption;

        r4 := @parameter3: com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve;

        $r5 = virtualinvoke r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.math.interpolation.data.Interpolator1DDataBundle getResult(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceStrike,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption,com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve)>(r1, r2, r3, r4);

        return $r5;
    }

    public volatile java.lang.Object getResult(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceMoneyness, com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve, com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption, com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve)
    {
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator r0;
        com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceMoneyness r1;
        com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve r2;
        com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption r3;
        com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve r4;
        com.opengamma.analytics.math.interpolation.data.Interpolator1DDataBundle $r5;

        r0 := @this: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator;

        r1 := @parameter0: com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceMoneyness;

        r2 := @parameter1: com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve;

        r3 := @parameter2: com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption;

        r4 := @parameter3: com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve;

        $r5 = virtualinvoke r0.<com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: com.opengamma.analytics.math.interpolation.data.Interpolator1DDataBundle getResult(com.opengamma.analytics.financial.model.volatility.local.LocalVolatilitySurfaceMoneyness,com.opengamma.analytics.financial.model.interestrate.curve.ForwardCurve,com.opengamma.analytics.financial.model.option.pricing.analytic.formula.EuropeanVanillaOption,com.opengamma.analytics.financial.model.interestrate.curve.YieldAndDiscountCurve)>(r1, r2, r3, r4);

        return $r5;
    }

    public static void <clinit>()
    {
        <com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: double FWD_SHIFT> = 0.05;

        <com.opengamma.analytics.financial.model.volatility.local.LocalVolatilityForwardPDEVolatilityGreeksGridCalculator: double VOL_SHIFT> = 0.001;

        return;
    }
}
