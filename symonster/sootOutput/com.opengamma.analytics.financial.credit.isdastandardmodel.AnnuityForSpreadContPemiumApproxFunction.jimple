public class com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction extends com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadFunction
{
    private final int _n;
    private final double[] _knots;
    private final double[] _rt;
    private final double _lgd;
    private final double _eta;

    public void <init>(com.opengamma.analytics.financial.credit.isdastandardmodel.CDSAnalytic, com.opengamma.analytics.financial.credit.isdastandardmodel.ISDACompliantYieldCurve)
    {
        com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction r0;
        com.opengamma.analytics.financial.credit.isdastandardmodel.CDSAnalytic r1;
        com.opengamma.analytics.financial.credit.isdastandardmodel.ISDACompliantYieldCurve r2;
        double $d0, $d1, $d2, $d3, $d4, $d5;
        double[] $r3, $r4, $r5, $r6, $r8, $r9;
        int $i0, $i1, $i2, i3;
        com.opengamma.analytics.financial.credit.isdastandardmodel.CDSCoupon $r7;

        r0 := @this: com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction;

        r1 := @parameter0: com.opengamma.analytics.financial.credit.isdastandardmodel.CDSAnalytic;

        r2 := @parameter1: com.opengamma.analytics.financial.credit.isdastandardmodel.ISDACompliantYieldCurve;

        specialinvoke r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadFunction: void <init>()>();

        $d0 = virtualinvoke r1.<com.opengamma.analytics.financial.credit.isdastandardmodel.CDSAnalytic: double getEffectiveProtectionStart()>();

        $d1 = virtualinvoke r1.<com.opengamma.analytics.financial.credit.isdastandardmodel.CDSAnalytic: double getProtectionEnd()>();

        $r3 = virtualinvoke r2.<com.opengamma.analytics.financial.credit.isdastandardmodel.ISDACompliantYieldCurve: double[] getKnotTimes()>();

        $r4 = staticinvoke <com.opengamma.analytics.financial.credit.isdastandardmodel.DoublesScheduleGenerator: double[] truncateSetInclusive(double,double,double[])>($d0, $d1, $r3);

        r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double[] _knots> = $r4;

        $r5 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double[] _knots>;

        $i0 = lengthof $r5;

        r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: int _n> = $i0;

        $i1 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: int _n>;

        $r6 = newarray (double)[$i1];

        r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double[] _rt> = $r6;

        i3 = 0;

     label1:
        $i2 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: int _n>;

        if i3 >= $i2 goto label2;

        $r9 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double[] _rt>;

        $r8 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double[] _knots>;

        $d4 = $r8[i3];

        $d5 = virtualinvoke r2.<com.opengamma.analytics.financial.credit.isdastandardmodel.ISDACompliantYieldCurve: double getRT(double)>($d4);

        $r9[i3] = $d5;

        i3 = i3 + 1;

        goto label1;

     label2:
        $d2 = virtualinvoke r1.<com.opengamma.analytics.financial.credit.isdastandardmodel.CDSAnalytic: double getLGD()>();

        r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double _lgd> = $d2;

        $r7 = virtualinvoke r1.<com.opengamma.analytics.financial.credit.isdastandardmodel.CDSAnalytic: com.opengamma.analytics.financial.credit.isdastandardmodel.CDSCoupon getCoupon(int)>(0);

        $d3 = virtualinvoke $r7.<com.opengamma.analytics.financial.credit.isdastandardmodel.CDSCoupon: double getYFRatio()>();

        r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double _eta> = $d3;

        return;
    }

    public java.lang.Double evaluate(java.lang.Double)
    {
        com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction r0;
        java.lang.Double r1, $r2;
        double d0, $d1, $d2, $d3, $d4, $d5;

        r0 := @this: com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction;

        r1 := @parameter0: java.lang.Double;

        $d1 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double _eta>;

        $d2 = virtualinvoke r1.<java.lang.Double: double doubleValue()>();

        $d4 = $d1 * $d2;

        $d3 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double _lgd>;

        d0 = $d4 / $d3;

        $d5 = specialinvoke r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double annuity(double)>(d0);

        $r2 = staticinvoke <java.lang.Double: java.lang.Double valueOf(double)>($d5);

        return $r2;
    }

    private double annuity(double)
    {
        com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction r0;
        double d0, d1, d2, d3, $d4, $d5, $d6, $d7, $d8, $d9, $d10, $d11, $d12, $d13, $d14, $d15, $d16, $d17, $d18, d19, d20;
        double[] $r1, $r2, $r3, $r4, $r5;
        int $i0, $i1, $i2, i3;

        r0 := @this: com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction;

        d0 := @parameter0: double;

        $r1 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double[] _rt>;

        d19 = $r1[0];

        d20 = 0.0;

        i3 = 1;

     label1:
        $i0 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: int _n>;

        if i3 >= $i0 goto label2;

        $r2 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double[] _rt>;

        d1 = $r2[i3];

        $r3 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double[] _knots>;

        $d7 = $r3[i3];

        $r4 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double[] _knots>;

        $i1 = i3 - 1;

        $d6 = $r4[$i1];

        d2 = $d7 - $d6;

        $d9 = d1 - d19;

        $d8 = d0 * d2;

        d3 = $d9 + $d8;

        $d12 = neg d19;

        $r5 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double[] _knots>;

        $i2 = i3 - 1;

        $d10 = $r5[$i2];

        $d11 = d0 * $d10;

        $d13 = $d12 - $d11;

        $d14 = staticinvoke <java.lang.Math: double exp(double)>($d13);

        $d16 = d2 * $d14;

        $d15 = neg d3;

        $d17 = staticinvoke <com.opengamma.analytics.math.utilities.Epsilon: double epsilon(double)>($d15);

        $d18 = $d16 * $d17;

        d20 = d20 + $d18;

        d19 = d1;

        i3 = i3 + 1;

        goto label1;

     label2:
        $d4 = r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: double _eta>;

        $d5 = $d4 * d20;

        return $d5;
    }

    public volatile java.lang.Object evaluate(java.lang.Object)
    {
        com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction r0;
        java.lang.Object r1;
        java.lang.Double $r2, $r3;

        r0 := @this: com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction;

        r1 := @parameter0: java.lang.Object;

        $r2 = (java.lang.Double) r1;

        $r3 = virtualinvoke r0.<com.opengamma.analytics.financial.credit.isdastandardmodel.AnnuityForSpreadContPemiumApproxFunction: java.lang.Double evaluate(java.lang.Double)>($r2);

        return $r3;
    }
}
