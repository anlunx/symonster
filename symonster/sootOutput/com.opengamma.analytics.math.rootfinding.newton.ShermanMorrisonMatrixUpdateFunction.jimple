public class com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction extends java.lang.Object implements com.opengamma.analytics.math.rootfinding.newton.NewtonRootFinderMatrixUpdateFunction
{
    private final com.opengamma.analytics.math.matrix.MatrixAlgebra _algebra;

    public void <init>(com.opengamma.analytics.math.matrix.MatrixAlgebra)
    {
        com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction r0;
        com.opengamma.analytics.math.matrix.MatrixAlgebra r1;

        r0 := @this: com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction;

        r1 := @parameter0: com.opengamma.analytics.math.matrix.MatrixAlgebra;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        staticinvoke <org.apache.commons.lang.Validate: void notNull(java.lang.Object)>(r1);

        r0.<com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction: com.opengamma.analytics.math.matrix.MatrixAlgebra _algebra> = r1;

        return;
    }

    public com.opengamma.analytics.math.matrix.DoubleMatrix2D getUpdatedMatrix(com.opengamma.analytics.math.function.Function1D, com.opengamma.analytics.math.matrix.DoubleMatrix1D, com.opengamma.analytics.math.matrix.DoubleMatrix1D, com.opengamma.analytics.math.matrix.DoubleMatrix1D, com.opengamma.analytics.math.matrix.DoubleMatrix2D)
    {
        com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction r0;
        com.opengamma.analytics.math.function.Function1D r1;
        com.opengamma.analytics.math.matrix.DoubleMatrix1D r2, r3, r4, r6, r21, r22;
        com.opengamma.analytics.math.matrix.DoubleMatrix2D r5, r7, $r20;
        double d0, $d1;
        com.opengamma.analytics.math.matrix.MatrixAlgebra $r8, $r10, $r11, $r13, $r14, $r17, $r18;
        com.opengamma.analytics.math.matrix.Matrix $r9, $r12, $r15, $r16, $r19;
        byte $b0;

        r0 := @this: com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction;

        r1 := @parameter0: com.opengamma.analytics.math.function.Function1D;

        r2 := @parameter1: com.opengamma.analytics.math.matrix.DoubleMatrix1D;

        r3 := @parameter2: com.opengamma.analytics.math.matrix.DoubleMatrix1D;

        r4 := @parameter3: com.opengamma.analytics.math.matrix.DoubleMatrix1D;

        r5 := @parameter4: com.opengamma.analytics.math.matrix.DoubleMatrix2D;

        staticinvoke <org.apache.commons.lang.Validate: void notNull(java.lang.Object)>(r3);

        staticinvoke <org.apache.commons.lang.Validate: void notNull(java.lang.Object)>(r4);

        staticinvoke <org.apache.commons.lang.Validate: void notNull(java.lang.Object)>(r5);

        $r8 = r0.<com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction: com.opengamma.analytics.math.matrix.MatrixAlgebra _algebra>;

        $r9 = virtualinvoke $r8.<com.opengamma.analytics.math.matrix.MatrixAlgebra: com.opengamma.analytics.math.matrix.Matrix multiply(com.opengamma.analytics.math.matrix.Matrix,com.opengamma.analytics.math.matrix.Matrix)>(r3, r5);

        r21 = (com.opengamma.analytics.math.matrix.DoubleMatrix1D) $r9;

        $r10 = r0.<com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction: com.opengamma.analytics.math.matrix.MatrixAlgebra _algebra>;

        d0 = virtualinvoke $r10.<com.opengamma.analytics.math.matrix.MatrixAlgebra: double getInnerProduct(com.opengamma.analytics.math.matrix.Matrix,com.opengamma.analytics.math.matrix.Matrix)>(r21, r4);

        $b0 = d0 cmpl 0.0;

        if $b0 != 0 goto label1;

        return r5;

     label1:
        $r11 = r0.<com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction: com.opengamma.analytics.math.matrix.MatrixAlgebra _algebra>;

        $d1 = 1.0 / d0;

        $r12 = virtualinvoke $r11.<com.opengamma.analytics.math.matrix.MatrixAlgebra: com.opengamma.analytics.math.matrix.Matrix scale(com.opengamma.analytics.math.matrix.Matrix,double)>(r21, $d1);

        r22 = (com.opengamma.analytics.math.matrix.DoubleMatrix1D) $r12;

        $r14 = r0.<com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction: com.opengamma.analytics.math.matrix.MatrixAlgebra _algebra>;

        $r13 = r0.<com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction: com.opengamma.analytics.math.matrix.MatrixAlgebra _algebra>;

        $r15 = virtualinvoke $r13.<com.opengamma.analytics.math.matrix.MatrixAlgebra: com.opengamma.analytics.math.matrix.Matrix multiply(com.opengamma.analytics.math.matrix.Matrix,com.opengamma.analytics.math.matrix.Matrix)>(r5, r4);

        $r16 = virtualinvoke $r14.<com.opengamma.analytics.math.matrix.MatrixAlgebra: com.opengamma.analytics.math.matrix.Matrix subtract(com.opengamma.analytics.math.matrix.Matrix,com.opengamma.analytics.math.matrix.Matrix)>(r3, $r15);

        r6 = (com.opengamma.analytics.math.matrix.DoubleMatrix1D) $r16;

        $r17 = r0.<com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction: com.opengamma.analytics.math.matrix.MatrixAlgebra _algebra>;

        r7 = virtualinvoke $r17.<com.opengamma.analytics.math.matrix.MatrixAlgebra: com.opengamma.analytics.math.matrix.DoubleMatrix2D getOuterProduct(com.opengamma.analytics.math.matrix.Matrix,com.opengamma.analytics.math.matrix.Matrix)>(r6, r22);

        $r18 = r0.<com.opengamma.analytics.math.rootfinding.newton.ShermanMorrisonMatrixUpdateFunction: com.opengamma.analytics.math.matrix.MatrixAlgebra _algebra>;

        $r19 = virtualinvoke $r18.<com.opengamma.analytics.math.matrix.MatrixAlgebra: com.opengamma.analytics.math.matrix.Matrix add(com.opengamma.analytics.math.matrix.Matrix,com.opengamma.analytics.math.matrix.Matrix)>(r5, r7);

        $r20 = (com.opengamma.analytics.math.matrix.DoubleMatrix2D) $r19;

        return $r20;
    }
}
